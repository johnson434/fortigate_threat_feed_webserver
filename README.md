# ğŸ›¡ï¸ Threat Feed Web Server

**FortiGate Threat Feed í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ê²½ëŸ‰ IoC ë°°í¬ ì„œë²„**

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”
* **í…ŒìŠ¤íŠ¸ ìµœì í™”**: FortiGateì˜ **External Fabric Connector** ì—°ë™ ë° ì •ì±… ì°¨ë‹¨ ë™ì‘ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ ì›¹ì„œë²„
* **Docker ê¸°ë°˜ ì‹¤í–‰**: ë³µì¡í•œ ì„¤ì • ì—†ì´ ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥
* **ë°ì´í„° ë‚´ì¥ ë¹Œë“œ**: `res/` ê²½ë¡œì˜ íŒŒì¼ì„ ìˆ˜ì •í•œ í›„ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë©´, í•´ë‹¹ ë°ì´í„°ê°€ ë‚´ì¥ëœ ìƒíƒœë¡œ ì›¹ì„œë²„ê°€ ì‹¤í–‰

---

## ğŸ“‚ ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```text
.
â”œâ”€â”€ main.py                # FastAPI ê¸°ë°˜ í”¼ë“œ ì„œë²„ ì‹¤í–‰ ë¡œì§
â”œâ”€â”€ Dockerfile             # ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ ì„¤ì • (ë°ì´í„° ë‚´ì¥)
â”œâ”€â”€ README.md              # í”„ë¡œì íŠ¸ ê°œìš” ë° ê°€ì´ë“œ
â””â”€â”€ res/                   # ìœ„í˜‘ í”¼ë“œ ì›ì²œ ë°ì´í„° (Text íŒŒì¼)
    â”œâ”€â”€ ip-addresses.txt         # IP ëª©ë¡
    â”œâ”€â”€ domain-names.txt         # Domain í•„í„°ìš© DNS ëª©ë¡
    â”œâ”€â”€ mac-addresses.txt        # MAC ì£¼ì†Œ ëª©ë¡
    â”œâ”€â”€ malware-hashes.txt       # ì•…ì„±ì½”ë“œ íŒŒì¼ í•´ì‹œ ëª©ë¡
    â””â”€â”€ fortiguard-categories.txt # Web Filterìš© URL ëª©ë¡

```

---

## ğŸš€ ì‹¤í–‰ ê°€ì´ë“œ

### 1. ë°ì´í„° ë°˜ì˜ ë° ë¹Œë“œ

`res/` ë””ë ‰í„°ë¦¬ì˜ íŒŒì¼ì„ ìˆ˜ì •í•œ í›„ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì—¬ ë°ì´í„°ë¥¼ ë°˜ì˜í•©ë‹ˆë‹¤.

```bash
docker build . -t [ì´ë¯¸ì§€ëª…]

```

### 2. ì»¨í…Œì´ë„ˆ ì‹¤í–‰

```bash
docker run -d \
  -p [í¬íŠ¸]:80 \
  [ì´ë¯¸ì§€ëª…] 
```

---

## ğŸ“‹ API ë¦¬ì†ŒìŠ¤ ëª…ì„¸

ëª¨ë“  ë¦¬ì†ŒìŠ¤ëŠ” `text/plain` í˜•ì‹ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤. FortiGate External Connector ì„¤ì • ì‹œ ì•„ë˜ URLì„ ì‚¬ìš©í•˜ì„¸ìš”.

| Endpoint (GET) | ì„¤ëª… | ë°ì´í„° ì˜ˆì‹œ |
| --- | --- | --- |
| `/feeds/ip-addresses` | ì°¨ë‹¨ ëŒ€ìƒ IP ëª©ë¡ | `8.8.8.8`, `1.1.1.1` |
| `/feeds/domain-names` | ìœ„í˜‘ ë„ë©”ì¸ ë° URL | `google.com`, `*.tistory.com/*` |
| `/feeds/mac-addresses` | ì°¨ë‹¨ ëŒ€ìƒ MAC ì£¼ì†Œ | `01:01:01:01:01:01` |
| `/feeds/malware-hashes` | ì•…ì„±ì½”ë“œ íŒŒì¼ í•´ì‹œ | `MD5`, `SHA256` |
| `/feeds/fortiguard-categories` | ì»¤ìŠ¤í…€ ì›¹ í•„í„° ì¹´í…Œê³ ë¦¬ | `https://codingpracticing.tistory.com/*` |
| `/docs` | API ìë™ ë¬¸ì„œí™” (Swagger) | - |

---

## ğŸ”— ì°¸ê³  ìë£Œ

* [FortiOS 7.6.6 - External Feeds](https://docs.fortinet.com/document/fortigate/7.6.6/administration-guide/9463)
